<!-- volet1 // volet2 // volet3 // volet4 // volet5 // volet6 // volet7 // volet 8 // volet9 // velux1 // velux2 // velux3 // rideau1 // rideau2 
// store1 // portail1 // garage1 -->

<div style="min-width:100px; min-height:100px;" class="cmd tooltips cmd-widget #history# #displayHistory#" data-type="info" data-subtype="numeric" data-cmd_id="#id#" data-cmd_uid="#uid#" data-version="#version#">
	<center>
		<span style="font-weight: bold;font-size:12px;#hideCmdName#">#name_display#</span>
		<div class="iconCmd#id#"></div>
	<div class="position#id#" style="font-weight:bold;"></div>
	<div style="#displayHistory# font-size: 0.8em;" class="col-xs-12 center-block">
			<span title="Min" class="tooltips">#minHistoryValue#</span>|<span title="Moyenne" class="tooltips" >#averageHistoryValue#</span> | <span title="Max" class="tooltips">#maxHistoryValue#</span> <i class="#tendance#"></i>
		</div>
	</center>
	<script>
   	var iconUpdate#uid# = function (state) {
   	var valueType 		= ('#type#' !='#'+'type#') ? "#type#":"volet1";
	var srcImgURL 		= "plugins/widget/core/template/dashboard/cmd.info.numeric.MultiOuvrants/";
   	var valueH 		= is_numeric('#hauteur#') ? parseFloat('#hauteur#'):95;
   	var valueL 		= is_numeric('#largeur#') ? parseFloat('#largeur#'):95;
   	var paramTaille 	= 'height='+valueH+'px width='+valueL+'px';
	var srcPictureID;
    	var srcImglogoER	= ('#logo_error#'!='#'+'logo_error#') ? "#logo_error#" : "error";
      
		$('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').empty();
		if (state >= 0 && state <= 5) {
          		srcPictureID ="/0";
		} else if (state >= 6 && state <= 15) {
          		srcPictureID ="/10";
		}else if (state >= 16 && state <= 25) {
          		srcPictureID ="/20";
		}else if (state >= 26 && state <= 35) {
          		srcPictureID ="/30";
		}else if (state >= 36 && state <= 45) {
          		srcPictureID ="/40";
		}else if (state >= 46 && state <= 55) {
          		srcPictureID ="/50";
		}else if (state >= 56 && state <= 65) {
          		srcPictureID ="/60";
        	}else if (state >= 66 && state <= 75) {
          		srcPictureID ="/70";
		}else if (state >= 76 && state <= 85) {
          		srcPictureID ="/80";
		}else if (state >= 86 && state <= 95) {
          		srcPictureID ="/90";
		}else if (state >= 96 && state <= 100) {
          		srcPictureID ="/100";
		}else {
          		srcPictureID ="error";      
		}
	// Gestion données hors plage
      		if (srcPictureID =="error") {
              		$('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').html('<img style="display: inline-block;" src="'+srcImgURL+ srcImglogoER +'.png" '+paramTaille+'>');
            	}else {
      			$('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').html('<img style="display: inline-block;" src="'+srcImgURL+ valueType +srcPictureID +'.png" '+paramTaille+'>');
            	}
   }
	jeedom.cmd.update['#id#'] = function(_options){
		$('.cmd[data-cmd_uid=#uid#]').attr('title','Valeur du '+_options.valueDate+', collectée le '+_options.collectDate)
		iconUpdate#uid#(_options.display_value);
      
   var valuePosition = Boolean('#position#');
     if (valuePosition == false) { 
		 $('.cmd[data-cmd_id=#id#] .position#id#').empty().text(_options.display_value+'#unite#').show();
     }
     else {
       $('.cmd[data-cmd_uid=#uid#] .position#id#').empty().text(_options.display_value+'#unite#').hide();
     }
	}
	jeedom.cmd.update['#id#']({display_value:'#state#',valueDate:'#valueDate#',collectDate:'#collectDate#',alertLevel:'#alertLevel#'});
	</script>
</div>
